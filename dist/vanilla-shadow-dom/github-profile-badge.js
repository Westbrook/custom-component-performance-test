class GithubProfileBadge extends HTMLElement { constructor() { super(); this.attachShadow({ mode: "open" }) } connectedCallback() { let e = this.getAttribute("username"); e && (this.renderTemplate(e), setTimeout(() => { this.updateTemplate("GoogleChromeLabs") }, 1e4)) } async renderTemplate(e) { let t = await this.fetchProfile(e); performance.mark("create-component-mark-start"); let n = this.createTemplate(t); this.shadowRoot.innerHTML = n, performance.mark("create-component-mark-end"), performance.measure("create-component-mark", "create-component-mark-start", "create-component-mark-end"); let r = performance.getEntriesByName("create-component-mark"); performance.clearMarks(), performance.clearMeasures(), console.log(`Create Component ${r[0].duration.toFixed(2)}`) } async fetchProfile(e) { let t = await fetch(`https://api.github.com/users/${e}?client_id=debcd7873f058b255df6&client_secret=68daf6582e66220cac4e6fc555e62ee90c23d815`), n = await t.json(); return { username: n.login, url: n.html_url, repos: n.public_repos, followers: n.followers, following: n.following, location: n.location, avatarUrl: n.avatar_url } } async updateTemplate(e) { let t = await this.fetchProfile(e); performance.mark("update-component-mark-start"), this.shadowRoot.querySelectorAll("#avatar")[0].setAttribute("title", t.name), this.shadowRoot.querySelectorAll("#avatar")[0].setAttribute("href", t.url), this.shadowRoot.querySelectorAll("#avatar > img")[0].setAttribute("src", t.avatarUrl), this.shadowRoot.querySelectorAll("#avatar > img")[0].setAttribute("alt", t.username), this.shadowRoot.querySelectorAll("h2 > a")[0].setAttribute("href", t.url), this.shadowRoot.querySelectorAll("h2 > a")[0].setAttribute("title", t.url), this.shadowRoot.querySelectorAll("h2 > a")[0].innerHTML = `@${t.username}`, this.shadowRoot.querySelectorAll("h3")[0].innerHTML = t.location || "", this.shadowRoot.querySelectorAll("#follower-container")[0].setAttribute("href", t.url), this.shadowRoot.querySelectorAll("#follower-container > i").innerHTML = t.followers, this.shadowRoot.querySelectorAll("#repos-container")[0].setAttribute("href", t.url), this.shadowRoot.querySelectorAll("#repos-container > i").innerHTML = t.followers, this.shadowRoot.querySelectorAll("#following-container")[0].setAttribute("href", t.url), this.shadowRoot.querySelectorAll("#following-container > i").innerHTML = t.followers, performance.mark("update-component-mark-end"), performance.measure("update-component-mark", "update-component-mark-start", "update-component-mark-end"); let n = performance.getEntriesByName("update-component-mark"); performance.clearMarks(), performance.clearMeasures(), console.log(`Update Component ${n[0].duration.toFixed(2)}`) } createTemplate(e) { return `\n            <style>\n            @import url(https://fonts.googleapis.com/css?family=Titillium+Web:400,700,600);\n\n            * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n            }\n\n            *:active, *:focus {\n            border: 0;\n            outline: 0;\n            }\n\n            a {\n            text-decoration: none;\n            display: inline-block;\n            }\n\n            #github--profile {\n                width: 100%;\n            }\n\n            #github--profile__info {\n                background: #fff;\n                text-align: center;\n                padding: 1.875rem .9375rem;\n            }\n\n            #github--profile__info img {\n                width: 6.25rem;\n                height: 6.25rem;\n                border-radius: 50%;\n                display: block;\n                box-shadow: 0 0 0.0625rem rgba(0, 0, 0, 0.5);\n            }\n\n            #github--profile__info h2 a {\n                font-size: 1.65rem;\n                color: #2368bd;\n            }\n\n            #github--profile__info h3 {\n                font-size: 1.1885rem;\n                color: #bdcbce;\n            }\n\n            #github--profile__state {\n                background: #1a4e8e;\n                text-align: center;\n                padding: 1.875rem .9375rem;\n                border-radius: 0 0 .3125rem .3125rem;\n            }\n\n            #github--profile__state ul {\n                direction: ltr;\n            }\n\n            #github--profile__state li {\n                list-style: none;\n                display: inline-block;\n                margin-right: 1rem;\n            }\n            \n            #github--profile__state li:last-child {\n                margin-right: 0;\n            }\n\n            #github--profile__state a {\n                color: #fff;\n            }\n\n            #github--profile__state i {\n                font-size: 1.5rem;\n                font-weight: 700;\n                font-style: normal;\n                display: block;\n            }\n\n            #github--profile__state span {\n                font-size: .844rem;\n                letter-spacing: .0625rem;\n                color: #2776d7;\n            }\n            </style>\n            <section id="github--profile">\n                <div id="github--profile__info">\n                    <a href="${e.url}" target="_blank" title="${e.name}" id="avatar">\n                        <img src="${e.avatarUrl}" alt="${e.username}"/>\n                    </a>\n                    <h2>\n                        <a href="${e.url}" title="${e.username}" target="_blank">@${e.username}</a>\n                    </h2>\n                    <h3>${e.location || ""}</h3>\n                </div>\n                <div id="github--profile__state">\n                    <ul>\n                        <li>\n                            <a href="${e.url}" target="_blank" id="follower-container" title="Number Of Followers">\n                                <i>${e.followers}</i>\n                                <span>Followers</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="${e.url}" target="_blank" id="repos-container" title="Number Of Repositoriy">\n                                <i>${e.repos}</i>\n                                <span>Repositoriy</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="${e.url}" target="_blank" id="following-container" title="Number Of Following">\n                                <i>${e.following}</i>\n                                <span>Following</span>\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </section>` } } customElements.define("github-profile-badge", GithubProfileBadge);
